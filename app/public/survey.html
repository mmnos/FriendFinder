<!DOCTYPE html>

<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <title>Survey</title>

</head>

<body>

  <div class="container">

    <div class="row center">
      <div class="col s12">
        <h1>Friend Finder</h1>
      </div>
    </div>

    <div class="row center">
      <div class="col s12">
        <h2>Tell me about yourself</h2>
      </div>
    </div>

    <div class="row">
      <form class="col s12">
        <div class="row">
          <!-- <div class="input-field col s6">
            <input placeholder="Enter your name.." id="first_name" type="text" class="validate">
            <label for="first_name">Name</label>
          </div> -->
          <div class="input-field col s6">
            <i class="material-icons prefix">account_circle</i>
            <input id="userName" type="text" class="validate">
            <label for="userName">Name</label>
          </div>
          <!-- <div class="input-field col s6">
            <input placeholder="Lets see your beautiful face.." id="userImg" type="text" class="validate">
            <label for="userImg">Profile Pic</label>
          </div> -->
          <div class="input-field col s6">
            <i class="material-icons prefix">image</i>
            <input id="userImg" type="text" class="validate">
            <label for="userImg">Profile Pic</label>
          </div>
        </div>
      </form>
    </div>

    <div class="row">
      <h5>Question 1 : Your mind is always buzzing with unexplored ideas and plans</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question1" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question1" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question1" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question1" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question1" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 2 : Generally speaking, you rely more on your experience than your imagination</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question2" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question2" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question2" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question2" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question2" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 3 : You find it easy to stay relaxed and focused even when there is some pressure</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question3" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question3" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question3" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question3" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question3" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 4 : You rarely do something just out of sheer curiosity</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question4" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question4" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question4" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question4" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question4" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 5 : People can rarely upset you</h5>
      <div class="col s12 center">
            <form action="#">

                <label>
                  <input name="question5" type="radio" value="1" unchecked />
                  <span>Strongly Disagree</span>
                </label>
                <label>
                  <input name="question5" type="radio" value="2" unchecked />
                  <span>Disagree</span>
                </label>
                <label>
                  <input name="question5" type="radio" value="3" unchecked />
                  <span>Neutral</span>
                </label>
                <label>
                  <input name="question5" type="radio" value="4" unchecked />
                  <span>Agree</span>
                </label>
                <label>
                  <input name="question5" type="radio" value="5" unchecked />
                  <span>Strongly Agree</span>
                </label>
      
            </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 6 : It is often difficult for you to relate to other people’s feelings</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question6" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question6" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question6" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question6" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question6" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 7 : In a discussion, truth should be more important than people’s sensitivities</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question7" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question7" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question7" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question7" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question7" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 8 : You rarely get carried away by fantasies and ideas</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question8" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question8" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question8" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question8" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question8" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 9 : You think that everyone’s views should be respected regardless of whether they are supported by facts or not</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question9" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question9" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question9" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question9" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question9" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row">
      <h5>Question 10 : You feel more energetic after spending time with a group of people</h5>
      <div class="col s12 center">
          <form action="#">

              <label>
                <input name="question10" type="radio" value="1" unchecked />
                <span>Strongly Disagree</span>
              </label>
              <label>
                <input name="question10" type="radio" value="2" unchecked />
                <span>Disagree</span>
              </label>
              <label>
                <input name="question10" type="radio" value="3" unchecked />
                <span>Neutral</span>
              </label>
              <label>
                <input name="question10" type="radio" value="4" unchecked />
                <span>Agree</span>
              </label>
              <label>
                <input name="question10" type="radio" value="5" unchecked />
                <span>Strongly Agree</span>
              </label>
    
          </form>
      </div>
    </div>

    <div class="row center">

      <a class="waves-effect waves-light btn" id="submit">Submit</a>
      
    </div>


  </div>

    
  <script
    src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous">
  </script>

  <script>

    
    document.addEventListener('DOMContentLoaded', function() {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);
    });

    
    $("#submit").on("click", () => {
      
      event.preventDefault();

      let scoreArr = [];

      scoreArr.push(
        $('input[name="question1"]:checked').val(), 
        $('input[name="question2"]:checked').val(), 
        $('input[name="question3"]:checked').val(),
        $('input[name="question4"]:checked').val(), 
        $('input[name="question5"]:checked').val(), 
        $('input[name="question6"]:checked').val(), 
        $('input[name="question7"]:checked').val(), 
        $('input[name="question8"]:checked').val(), 
        $('input[name="question9"]:checked').val(), 
        $('input[name="question10"]:checked').val()
      );
  
      let currentUser = {
        name : $("#userName").val().trim(),
        photo : $("#userImg").val().trim(),
        scores : scoreArr
      }

      console.log(currentUser);

      $.get("/api/survey", function(data) {
        
      })

      let getMatch = (friends, scoreArr) => {

      let closestMatch = "charles";
      let closestMatchDiff = 41;

      friends.forEach(friend => {
        
        let totalDiff = 0;

        user.scores.forEach((userScore, index) => {

          totalDiff += Math.abs(userScore - friend.scores[index]);

        });
        
        if (closestMatchDiff > totalDiff) {
          closestMatchDiff = totalDiff;
          closestMatch = friend;
        }
  
      });

      let matchDiff = closestMatchDiff / 40 * 100;
      let matchPercent = 100 - matchDiff;

      console.log(matchPercent);

      console.log(closestMatch);

      return closestMatch;

      };

    });

  </script>

  <!-- <style>
  input[type='radio'] { transform: scale(2); }
  </style> -->
  
</body>

</html>